# 天气助手 🌤️

一个支持自然语言查询的Python天气预报程序，使用OpenWeatherMap API获取准确的天气数据。

## 功能特点

- 🗣️ **自然语言查询**: 支持中文自然语言询问天气
- 🌍 **全球城市支持**: 支持查询世界各地城市的天气
- 📅 **多日预报**: 支持查询未来1-5天的天气预报
- 🎯 **智能解析**: 自动识别城市名称和查询意图
- 📊 **详细信息**: 提供温度、湿度、风速等详细天气数据

## 安装依赖

```bash
pip install -r requirements.txt
```

## 获取API密钥

1. 访问 [OpenWeatherMap](https://openweathermap.org/api)
2. 注册账户并获取免费的API密钥
3. 记录您的API密钥，运行程序时需要输入

## 使用方法

### 运行程序

```bash
python weather_assistant.py
```

### 查询示例

程序支持多种自然语言查询方式：

**当前天气查询：**
- "北京的天气怎么样？"
- "上海现在的天气"
- "广州天气如何"

**天气预报查询：**
- "北京明天的天气"
- "上海后天天气怎么样"
- "广州未来3天的天气预报"
- "深圳未来5天天气"

**退出程序：**
- 输入 "quit"、"exit"、"退出" 或 "q"

## 程序结构

```
weather_assistant.py    # 主程序文件
requirements.txt       # 依赖包列表
README.md             # 说明文档
```

## 主要功能模块

### WeatherAssistant 类

- `get_coordinates()`: 根据城市名获取经纬度
- `get_current_weather()`: 获取当前天气信息
- `get_forecast()`: 获取天气预报
- `parse_natural_language()`: 解析自然语言查询
- `query_weather()`: 处理完整的天气查询流程

## 支持的查询类型

1. **当前天气**: 实时温度、天气状况、湿度、风速等
2. **天气预报**: 未来1-5天的天气趋势和温度范围

## 注意事项

- 需要稳定的网络连接
- API密钥有调用次数限制（免费版每分钟60次）
- 城市名称支持中文和英文
- 温度单位为摄氏度

## 错误处理

程序包含完善的错误处理机制：
- 网络连接错误
- API调用失败
- 城市名称无法识别
- 数据格式错误

## 示例输出

```
📍 北京 当前天气:
🌡️  温度: 15.2°C (体感 14.8°C)
☁️  天气: 多云
💧  湿度: 65%
💨  风速: 3.2 m/s
```

```
📍 上海 未来3天天气预报:

📅 今天 (2024-01-15):
   🌡️  8.5°C ~ 16.2°C
   ☁️  小雨

📅 明天 (2024-01-16):
   🌡️  6.8°C ~ 12.4°C
   ☁️  阴天

📅 后天 (2024-01-17):
   🌡️  9.1°C ~ 15.7°C
   ☁️  多云
```

## 许可证

本项目采用 MIT 许可证。